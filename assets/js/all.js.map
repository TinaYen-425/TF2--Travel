{"version":3,"sources":["all.js"],"names":["regionSelect","document","querySelector","actCard","pageDom","data","getData","axios","get","headers","getAuthorizationHeader","then","response","length","allFunction","error","console","log","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization","regionFilter","pageinit","addEventListener","citySelect","city","map","item","City","region","Set","str","forEach","innerHTML","newData","e","target","value","filter","render","unfound","index","picUrl","Picture","PictureUrl1","undefined","PictureDescription1","Name","Description","substring","Location","pageData","dataToPage","temp","push","pageCreate","renderPageData","page","nodeName","pageNum","dataset","pageClick","querySelectorAll","classList","remove","add","foodPageDom","foodDom","foodData","getfoodData","foodPageFun","foodDataToPage","foodPageCreate","foodRender","pageFoodData","foodPageClick"],"mappings":"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","file":"all.js","sourcesContent":["const regionSelect = document.querySelector('.regionSelect');\nconst actCard = document.querySelector('.activityGroup');\nconst pageDom = document.querySelector('.pagination-act');\n\nlet data = [];\nconst getData = () => {\n    axios.get(\n        `https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity?$select=City%2C%20Name%2CActivityName%2CDescription%2CLocation%2CCharge%2CPhone%2CPicture&$filter=contains(City%2C%20'')&$format=JSON`,\n        {\n            headers: getAuthorizationHeader()\n        }\n    )\n        .then(response => {\n            data = response.data;\n            data.length = 200;\n            allFunction();\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}\ngetData();//取得API\n//TDX Key\nfunction getAuthorizationHeader() {\n    //  填入自己 ID、KEY 開始\n    let AppID = '3772c88e1a8547a48bdc36dbe1cc0a54';\n    let AppKey = 'M0lMXPUTX7HweJe2DvUrWRXUUEg';\n    //  填入自己 ID、KEY 結束\n    let GMTString = new Date().toGMTString();\n    let ShaObj = new jsSHA('SHA-1', 'TEXT');\n    ShaObj.setHMACKey(AppKey, 'TEXT');\n    ShaObj.update('x-date: ' + GMTString);\n    let HMAC = ShaObj.getHMAC('B64');\n    let Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\n    return { 'Authorization': Authorization, 'X-Date': GMTString };\n}\n//功能\nfunction allFunction() {\n    regionFilter();//選出縣市\n    pageinit();//分頁\n}\n//篩選城市的活動\nregionSelect.addEventListener('change', citySelect);\n\n//選出縣市\nfunction regionFilter() {\n    let city = data.map(item => {\n        return item.City\n    })\n    let region = {}; // region 有22個縣市\n    region = new Set(city);\n    let str = `<option value=\"不分縣市\" disabled selected hidden>不分縣市</option>`\n    region.forEach(item => {\n        str += `<option value=\"${item}\">${item}</option>`\n    })\n    regionSelect.innerHTML = str;\n}\n//縣市選擇\nlet newData = [];\nfunction citySelect(e) {\n    const city = e.target.value;\n    newData = data.filter(item => {\n        return item.City == city;\n    })\n    newData.length = 4;\n    render()\n}\n// render \nfunction render() {\n    let unfound = 'https://jubeatt.github.io/The-F2E-3rd-Travel-Guide/img/default.ae8ac2fa.png';\n    let str = '';\n    newData.forEach((item, index) => {\n        let picUrl = item.Picture.PictureUrl1;\n        if (picUrl == undefined) {\n            picUrl = unfound;\n        }\n        str += `<li class=\"act-items p-4 bg-white box-shadow mb-12 mb-md-4\">\n              <a href=\"#\" class=\"d-flex\">\n                  <div class=\"card-pic me-4\"><img class=\"card-height\"\n                          src=\"${picUrl}\" alt=\"${item.Picture.PictureDescription1}\">\n                  </div>\n                  <div class=\"card-body\">\n                      <h3 class=\"font-m mb-3 font-md-s mb-md-9\">\n                          ${item.Name}</h3>\n                      <p class=\"text-grey font-s mb-3 d-md-none \">\n                          ${index === 2 ? item.Description.substring(31, 129) : item.Description.substring(0, 95)}\n                      <span>...</span></p>\n                      <div\n                          class=\"card-bottom d-flex align-center justify-between px-1\">\n                          <div class=\"d-flex align-center\">\n                              <div class=\"me-3 me-md-2\"><img\n                                      src=\"./assets/images/gps_pink.png\"\n                                      alt=\"gps_pink\"></div>\n                              <div class=\"font-s\">${item.Location}</div>\n                          </div>\n                          <input type=\"submit\"\n                              class=\"act-btn d-md-none text-primary font-s\"\n                              value=\"活動詳情\">\n                      </div>\n                  </div>\n              </a>\n                     </li>`\n    })\n    actCard.innerHTML = str;\n}\n//分頁製作//\nlet pageData = [];\n//整理分頁data\nfunction dataToPage() {\n    let temp = [];\n    data.forEach((item, index) => {\n        if ((index + 1) % 4 != 0) {\n            temp.push(item);\n        } else {\n            temp.push(item);\n            pageData.push(temp);\n            temp = [];\n        }\n    })\n}\n//整理後的pageData做pageCreate\nfunction pageCreate() {\n    let str = ''\n    pageData.forEach((item, index) => {\n        str += `<li class=\"pagination-item mb-2\" data-page=\"${index + 1}\">${index + 1}</li>`\n    })\n    pageDom.innerHTML = str;\n}\n//選染到畫面\nlet unfound = 'https://jubeatt.github.io/The-F2E-3rd-Travel-Guide/img/default.ae8ac2fa.png';\nfunction renderPageData(page = 1) {\n    let str = ''\n    pageData[page - 1].forEach((item, index) => {\n        let picUrl = item.Picture.PictureUrl1;\n        if (picUrl == undefined) {\n            picUrl = unfound;\n        }\n        if (item.Description == '無'|| ''){\n            item.Description = '無相關內容'\n        }\n        str += ` <li class=\"act-items p-4 bg-white box-shadow mb-12 mb-md-4\">\n              <a href=\"#\" class=\"d-flex\">\n                  <div class=\"card-pic me-4\"><img class=\"card-height\"\n                          src=\"${picUrl}\" alt=\"${item.Picture.PictureDescription1}\">\n                  </div>\n                  <div class=\"card-body\">\n                      <h3 class=\"font-m mb-3 font-md-s mb-md-9\">\n                          ${item.Name.substring(0,17)}</h3>\n                      <p class=\"text-grey font-s mb-3 d-md-none \">\n                          ${index === 2 ? item.Description.substring(31, 129) : item.Description.substring(0, 95)}<span>...</span>\n                      </p>\n                      <div\n                          class=\"card-bottom d-flex align-center justify-between px-1\">\n                          <div class=\"d-flex align-center\">\n                              <div class=\"me-3 me-md-2\"><img\n                                      src=\"./assets/images/gps_pink.png\"\n                                      alt=\"gps_pink\"></div>\n                              <div class=\"font-s\">${item.City}</div>\n                          </div>\n                          <input type=\"submit\"\n                              class=\"act-btn d-md-none text-primary font-s\"\n                              value=\"活動詳情\">\n                      </div>\n                  </div>\n              </a>\n                     </li>`\n    })\n    actCard.innerHTML = str;\n}\n//分頁監聽\npageDom.addEventListener('click', e => {\n    if (e.target.nodeName != 'LI') return;\n    let pageNum = e.target.dataset.page;\n    renderPageData(pageNum);\n    let pageClick = document.querySelectorAll('.pagination-item');\n    pageClick.forEach(item => {\n        item.classList.remove('active');\n    })\n    e.target.classList.add('active');\n\n})\nfunction pageinit() {\n    dataToPage();\n    pageCreate();\n    renderPageData();\n}\n\nconst foodPageDom = document.querySelector('.pagination-food');\nconst foodDom = document.querySelector('.restaruntGroup')\n\n//食物串接\nlet foodData = [];\nconst getfoodData = () => {\n    axios.get(\n        `https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant?$select=Name%2CPicture%2CCity&$format=JSON`,\n        {\n        headers: getAuthorizationHeader()\n        }\n    )\n    .then(response => {\n        foodData = response.data;\n        foodData.length = 200;\n        foodPageFun()\n    })\n    .catch(error => {\n        console.log(error);\n    })\n}\ngetfoodData();\nfunction foodPageFun(){\n    //分頁\n    foodDataToPage();\n    foodPageCreate();\n    foodRender();\n}\n//food分頁\nlet pageFoodData = [];\n//food 整理出分頁data\nfunction foodDataToPage(){\n    let temp = [];\n  foodData.forEach((item,index)=> {\n      if ((index + 1) % 10 != 0){\n         temp.push(item);\n      }else{\n        temp.push(item)\n        pageFoodData.push(temp);\n        temp = []\n      }\n  })\n}\n\n//分頁串接\nfunction foodPageCreate(){\n  let str = '';\n  pageFoodData.forEach((item,index)=> {\n      str += `<li class=\"pagination-item mb-2\" data-page=\"${index+1}\">${index + 1}</li>`\n  })\n  foodPageDom.innerHTML = str;\n}\n//分頁渲染\nfunction foodRender(page = 1){\n    let str = '';\n    pageFoodData[page - 1].forEach((item,index) => {\n        let picUrl = item.Picture.PictureUrl1;\n        if (picUrl == undefined) {\n            picUrl = unfound;\n        }\n      str += `\n      <li class=\"res-item bg-white p-3 box-shadow\">\n      <a class=\"inline-block\" href=\"#\">\n          <div class=\"res-pic mb-2\"><img class=\"res-pic\"\n                  src=\"${picUrl}\"\n                  alt=\"${item.Picture.PictureDescription1}\"></div>\n          <h3 class=\"font-s mb-7 mb-md-1 text-height\"><span\n                  class=\"d-md-none\">${item.Name}</span><span\n                  class=\"d-none d-md-block\">${item.Name.substring(0, 30)}</span></h3>\n          <div class=\"d-flex align-center\">\n              <div class=\"gps-pic me-1\"><img\n                      src=\"./assets/images/gps_pink2.png\" alt=\"gps\">\n              </div>\n              <div class=\"font-xs text-third\">${item.City}</div>\n          </div>\n      </a>\n  </li>`\n    })\n    foodDom.innerHTML = str;\n}\n//分頁監聽\nfoodPageDom.addEventListener('click', e => {\n    if(e.target.nodeName != 'LI') return;\n    let pageNum = e.target.dataset.page;\n    foodRender(pageNum);\n    const foodPageClick = document.querySelectorAll('.pagination-food li')\n    foodPageClick.forEach(item => {\n        item.classList.remove('active')\n    })\n    e.target.classList.add('active');\n})"]}